<?xml version="1.0" encoding="UTF-8"?>

<Config>

   <!-- =========================================================== -->

   <ListInterfaces xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<!--
      <Interface>
         <Name>SPCS</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">/basicspacedata/query/class/cdm_public</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
         </Switches>
      </Interface>
   -->

      <Interface>
         <Name>TEST_NASA_RFM</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/rfm</LocalInbox>
         <DownloadDirs>
		      <Directory DepthSearch="0">/MOLT/MOD09A1.061/2023.06.18/</Directory>
            <Directory DepthSearch="0">/MOLT/MOD09A1.061/</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>true</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>false</MD5>
         </Switches>         
      </Interface>

      <Interface>
         <Name>TEST_ECMWF_TCC</Name>
         <LocalInbox>/data/mocExternalInterfaces/delivery_root/sftp</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">/data/mocExternalInterfaces/ECM/inTray/AUX_WEF</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>true</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>true</LogUnknown>
            <MD5>false</MD5>
         </Switches>
      </Interface> 

      <Interface>
         <Name>ECMWF_TCC</Name>
         <LocalInbox>/data/mocExternalInterfaces/delivery_root/sftp</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">/data/mocExternalInterfaces/ECM/inTray/AUX_WEF</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>true</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>true</LogUnknown>
            <MD5>false</MD5>
         </Switches>
      </Interface> 

      <Interface>
         <Name>TEST_CELESTRAK_SFS</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/sfs</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">SpaceData/SW-Last5Years.txt</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>false</MD5>
         </Switches>
      </Interface> 

      <Interface>
         <Name>CELESTRAK_SFS</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/sfs</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">SpaceData/SW-Last5Years.txt</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>false</MD5>
         </Switches>
      </Interface>  

      <Interface>
         <Name>CELESTRAK_TLE</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/tle</LocalInbox>
         <DownloadDirs>
            <!-- Sentinel-2B -->
            <Directory DepthSearch="0">NORAD/elements/gp.php?CATNR=42063</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>
      </Interface>  

      <Interface>
         <Name>TEST_CELESTRAK_TLE</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/tle</LocalInbox>
         <DownloadDirs>
            <!-- Sentinel-2A 
            <Directory DepthSearch="0">NORAD/elements/gp.php?CATNR=40697</Directory>
            -->
            <!-- Sentinel-2B  -->
            <Directory DepthSearch="0">NORAD/elements/gp.php?CATNR=42063</Directory>
           
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>
      </Interface> 

      <Interface>
         <Name>TEST_CELESTRAK_TCA</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/tca</LocalInbox>
         <DownloadDirs>
            <!-- Sentinel-2B -->
            <Directory DepthSearch="0">NORAD/elements/gp.php?GROUP=active&#038;FORMAT=2le</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>
      </Interface> 

      <Interface>
         <Name>CELESTRAK_TCA</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/tca</LocalInbox>
         <DownloadDirs>
            <!-- Sentinel-2B -->
            <Directory DepthSearch="0">NORAD/elements/gp.php?GROUP=active&#038;FORMAT=2le</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>
      </Interface>  

      <Interface>
         <Name>TEST_NASA_NBULA</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/nbula</LocalInbox>
         <DownloadDirs>
		      <Directory DepthSearch="0">/archive/products/iers/finals2000A.data</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface>

      <Interface>
         <Name>NASA_NBULA</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/nbula</LocalInbox>
         <DownloadDirs>
		      <Directory DepthSearch="0">/archive/products/iers/finals2000A.data</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface>

      <Interface>
         <Name>TEST_NASA_NBULC</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/nbulc</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">/archive/products/iers/tai-utc.dat</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface> 

      <Interface>
         <Name>NASA_NBULC</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/nbulc</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">/archive/products/iers/tai-utc.dat</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface>      

      <Interface>
         <Name>TEST_NASA_SFL</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/sfl</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">%Q{sites/default/files/atoms/files/#{(Time.now.to_date &lt;&lt; 1).strftime("%b%Y").to_s.downcase!}f10_prd.txt}</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface>

      <Interface>
         <Name>NASA_SFL</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/sfl</LocalInbox>
         <DownloadDirs>
            <Directory DepthSearch="0">%Q{sites/default/files/atoms/files/#{(Time.now.to_date &lt;&lt; 1).strftime("%b%Y").to_s.downcase!}f10_prd.txt}</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>false</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface>


<!-- 

https://datacenter.iers.org/data/xml/bulletina-xxxv-040.xml

-->


<!-- 

puts %Q{/data/xml/bulletina-#{RomanNumerals.to_roman(Time.new.strftime("%y").to_i+13).downcase}-#{(Time.new.strftime("%U").to_i-1).to_s.rjust(3,'0')}.xml}

-->

<Interface>
   <Name>IERS_BULA</Name>
   <LocalInbox>/data/mocExternalInterfaces/int/bula</LocalInbox>
   <DownloadDirs>
      <Directory DepthSearch="0">%Q{/data/xml/bulletina-#{RomanNumerals.to_roman(Time.new.strftime("%y").to_i+13).downcase}-#{(Time.new.strftime("%U").to_i-1).to_s.rjust(3,'0')}.xml}</Directory>
   </DownloadDirs>
   <Switches>
      <DeleteDownloaded>false</DeleteDownloaded>
      <DeleteDuplicated>false</DeleteDuplicated>
      <DeleteUnknown>false</DeleteUnknown>
      <LocalDissemination>true</LocalDissemination>
      <LogDuplicated>false</LogDuplicated>
      <LogUnknown>false</LogUnknown>
      <MD5>true</MD5>
   </Switches>
</Interface>

<Interface>
   <Name>TEST_IERS_BULA</Name>
   <LocalInbox>/data/mocExternalInterfaces/int/bula</LocalInbox>
   <DownloadDirs>
      <Directory DepthSearch="0">%Q{/data/xml/bulletina-#{RomanNumerals.to_roman(Time.new.strftime("%y").to_i+13).downcase}-#{(Time.new.strftime("%U").to_i-1).to_s.rjust(3,'0')}.xml}</Directory>
   </DownloadDirs>
   <Switches>
      <DeleteDownloaded>false</DeleteDownloaded>
      <DeleteDuplicated>false</DeleteDuplicated>
      <DeleteUnknown>false</DeleteUnknown>
      <LocalDissemination>true</LocalDissemination>
      <LogDuplicated>false</LogDuplicated>
      <LogUnknown>false</LogUnknown>
      <MD5>true</MD5>
   </Switches>
</Interface> 

<Interface>
   <Name>TEST_IERS_ALLBULA</Name>
   <LocalInbox>/data/mocExternalInterfaces/int/allbula</LocalInbox>
   <DownloadDirs>
      <Directory DepthSearch="0">/data/csv/finals2000A.all.csv</Directory>
   </DownloadDirs>
   <Switches>
      <DeleteDownloaded>false</DeleteDownloaded>
      <DeleteDuplicated>false</DeleteDuplicated>
      <DeleteUnknown>false</DeleteUnknown>
      <LocalDissemination>true</LocalDissemination>
      <LogDuplicated>false</LogDuplicated>
      <LogUnknown>false</LogUnknown>
      <MD5>true</MD5>
   </Switches>
</Interface> 

      <Interface>
         <Name>TEST_IERS_BULC</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/bulc</LocalInbox>
         <DownloadDirs>
		      <Directory DepthSearch="0">/iers/bul/bulc/Leap_Second.dat</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>true</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface>

      <Interface>
         <Name>IERS_BULC</Name>
         <LocalInbox>/data/mocExternalInterfaces/int/bulc</LocalInbox>
         <DownloadDirs>
		      <Directory DepthSearch="0">/iers/bul/bulc/Leap_Second.dat</Directory>
         </DownloadDirs>
         <Switches>
            <DeleteDownloaded>false</DeleteDownloaded>
            <DeleteDuplicated>false</DeleteDuplicated>
            <DeleteUnknown>false</DeleteUnknown>
            <LocalDissemination>true</LocalDissemination>
            <LogDuplicated>false</LogDuplicated>
            <LogUnknown>false</LogUnknown>
            <MD5>true</MD5>
         </Switches>         
      </Interface>



   </ListInterfaces>
<!-- 

https://www.nasa.gov/sites/default/files/atoms/files/jun2022f10_prd.txt

   Time.now.to_date << 1

   <Directory DepthSearch="0">sites/default/files/atoms/files/#{}f10_prd.txt</Directory>

-->


   <!-- =========================================================== -->

   <DownloadRules xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
 
      <File Type="MOD09A1*.xml">
         <Description>MODIS MOD09A1 HDF description in XML</Description>
         <FromList>
            <Interface>TEST_NASA_RFM</Interface>
         </FromList>
      </File>

      <File Type="202*.*.*">
         <Description>MODIS MOD09A1 Directory links</Description>
         <FromList>
            <Interface>TEST_NASA_RFM</Interface>
         </FromList>
      </File>

      <File Type="ECMWF_tcc*.grib">
         <Description>ECMWF_TCC</Description>
         <FromList>
            <Interface>TEST_ECMWF_TCC</Interface>
            <Interface>ECMWF_TCC</Interface>
         </FromList>
      </File>

      <File Type="bulletinA.txt">
         <Description>AUX_BULA__</Description>
         <FromList>
            <Interface>TEST_IERS_BULA</Interface>
            <Interface>IERS_BULA</Interface>
         </FromList>
      </File>

      <File Type="bulletina*.xml">
         <Description>AUX_BULA__</Description>
         <FromList>
            <Interface>TEST_IERS_BULA</Interface>
            <Interface>IERS_BULA</Interface>
         </FromList>
      </File>

      <File Type="Leap_Second.dat">
         <Description>AUX_BULC__</Description>
         <FromList>
            <Interface>TEST_IERS_BULC</Interface>
            <Interface>IERS_BULC</Interface>
         </FromList>
      </File>

      <File Type="*CATNR=?????">
         <Description>AUX_TLE___</Description>
         <FromList>
            <Interface>CELESTRAK_TLE</Interface>
            <Interface>TEST_CELESTRAK_TLE</Interface>
         </FromList>
      </File>

      <File Type="*GROUP=active*FORMAT=2le">
         <Description>AUX_TCA___</Description>
         <FromList>
            <Interface>CELESTRAK_TCA</Interface>
            <Interface>TEST_CELESTRAK_TCA</Interface>
         </FromList>
      </File>
      
      <File Type="*Last5Years*">
         <Description>AUX_SFS___</Description>
         <FromList>
            <Interface>TEST_CELESTRAK_SFS</Interface>
            <Interface>CELESTRAK_SFS</Interface>
         </FromList>
      </File>

      <File Type="*f10_prd.txt">
         <Description>AUX_SFL___</Description>
         <FromList>
            <Interface>NASA_SFL</Interface>
            <Interface>TEST_NASA_SFL</Interface>
         </FromList>
      </File>

      <File Type="finals2000A.data">
         <Description>AUX_NBULA_</Description>
         <FromList>
            <Interface>NASA_NBULA</Interface>
            <Interface>TEST_NASA_NBULA</Interface>
         </FromList>
      </File>
   
      <File Type="finals2000A.all.csv">
         <Description>TBD</Description>
         <FromList>
            <Interface>TEST_IERS_ALLBULA</Interface>
         </FromList>
      </File>

      <File Type="tai-utc.dat">
         <Description>AUX_NBULC_</Description>
         <FromList>
            <Interface>NASA_NBULC</Interface>
            <Interface>TEST_NASA_NBULC</Interface>
         </FromList>
      </File>

      <!--
      <File Type="*cdm*">
         <Description>conjunction data message</Description>
         <FromList>
            <Interface>SPCS</Interface>
         </FromList>
      </File>
   -->

         
   </DownloadRules>

   <!-- =========================================================== -->

   <DisseminationRules xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   
      <ListIntrays>
                
      </ListIntrays>

      <!-- =============================================== -->

      <ListFilesDisseminated>
    
      <!--
            SORT Rules ranking from more restrictive ones    
            Only the first rule matching the file pattern is applied     
      -->


      </ListFilesDisseminated>
   </DisseminationRules>

   <!-- =========================================================== -->


</Config>
